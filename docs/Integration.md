# Integration

## URL/API

### SWAPZ's URL
Production URL: [https://swapz.finance](https://swapz.finance)  
Staging URL: [https://staging.swapz.finance](https://staging.swapz.finance)

### SWAPZ Swagger API Documentation
Production URL: [https://swapz.finance/dapp/v1/documentation](https://swapz.finance/dapp/v1/documentation)  
Staging URL: [https://staging.swapz.finance/dapp/v1/documentation](https://staging.swapz.finance/dapp/v1/documentation)

## API Signature Authentication
Please go through the following steps at the DAPP's payment status receiving page (Response URL) to ensure the security:
- Check the HTTP_REFERER value is from https://swapz.finance.com (only applicable if the DAPP website is working with SSL Certificate).
- Check the payment amount from SWAPZ is match with yours.
- Verify the signature from SWAPZ with the [Public Key given by SWAPZ](Introduction.md#pre-requisite-of-dapp-integration).

The message needs to be signed as the following: 
```
HTTP_METHOD + | + HTTP_REQUEST_PATH + | + PARAMS
```

### Sample
A complete sample of how to generate the signature for payment request.

**HTTP Method:** POST  
**Payment Request URL:** https://swapz.finance/dapp/v1/createtransaction  
**Data:**
```
{
  "orderId": "ABC202005140001",
  "amount": "100",
  "tokenId": "usdt",
  "productDesc": "Movie ticket",
  "userName": "Christopher Tan",
  "userEmail": "christan@gmail.com",
  "userContactNo": "0123466777",
  "userCountryCode": "MY",
  "remark": "",
  "lang": "en",
  "responseUrl": "https://superweb.com/payment/response",
  "backendUrl": "https://superweb.com/payment/backend"
}
```
Before signing, you need to sort the data according to the key of each value ascendingly and then stringify the data to obtain the following message:
```
POST|/dapp/v1/createtransaction|{"amount":"100","backendUrl":"https://superweb.com/payment/backend","lang":"en","orderId":"ABC202005140001","productDesc":"Movie 
ticket","remark":"","responseUrl":"https://superweb.com/payment/response","timestamp":"1604659137","tokenId":"usdt","userContactNo":"0123466777","userCountryCode":"MY","userEmail":"christan@gmail.com","userName":"Christopher Tan"}
```

The signature should sign the data with ED25519 signature after connection and sign the bytes with **hex encoding**.

The same method is used for returning the payment status with the response URL. DAPP should verify the signature generated by SWAPZ with the Public Key given by SWAPZ in the [Pre-requisite of DAPP Integration](Introduction.md#pre-requisite-of-dapp-integration).